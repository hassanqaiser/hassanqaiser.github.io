{"version":3,"sources":["webpack:///./src/app/dashboard/dashboard.component.ts","webpack:///./src/app/dashboard/dashboard.module.ts","webpack:///./src/app/dashboard/dashboard.template.html","webpack:///./src/app/dashboard/esrimap/components/layerMenuButton.component.ts","webpack:///./src/app/dashboard/esrimap/components/legend.component.ts","webpack:///./src/app/dashboard/esrimap/components/mainmap.component.ts","webpack:///./src/app/dashboard/esrimap/components/map.component.ts","webpack:///./src/app/dashboard/esrimap/components/search.component.ts","webpack:///./src/app/dashboard/esrimap/services/map.service.ts","webpack:///./src/app/layout/widget/widget.directive.ts"],"names":[],"mappings":"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","file":"4.chunk.js","sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'dashboard',\n  template: require('./dashboard.template.html')\n})\nexport class Dashboard {\n\n\n  constructor(){\n\n\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/dashboard/dashboard.component.ts","import { NgModule }      from '@angular/core';\nimport { CommonModule }  from '@angular/common';\n\nimport { RouterModule } from '@angular/router';\nimport { Dashboard } from './dashboard.component.ts';\nimport {Widget} from '../layout/widget/widget.directive';\n\nimport { MapComponent } from './esrimap/components/map.component';\nimport { SearchComponent } from './esrimap/components/search.component';\nimport { LegendComponent } from './esrimap/components/legend.component';\nimport { layerMenuButtonComponent } from './esrimap/components/layerMenuButton.component';\nimport { MainMapComponent }  from './esrimap/components/mainmap.component';\nimport { MapService } from './esrimap/services/map.service';\n\n\nexport const routes = [\n  { path: '', component: Dashboard, pathMatch: 'full' }\n];\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [\n    Dashboard,\n    Widget,\n    MainMapComponent,\n    MapComponent,\n    SearchComponent,\n    LegendComponent,\n    layerMenuButtonComponent\n  ],\n  providers: [\n    MapService\n  ],\n})\nexport default class DashboardModule {\n  static routes = routes;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/dashboard/dashboard.module.ts","module.exports = \"<h1 class=\\\"page-title\\\">Dashboard <small><small>The Lucky One</small></small></h1>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-md-12\\\">\\n    <main-map></main-map>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/dashboard/dashboard.template.html\n// module id = ./src/app/dashboard/dashboard.template.html\n// module chunks = 4","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'layerMenuButton',\n    template:\n    `\n    <div id=\"layerMenuButton\" class=\"btn-group\">\n          <button type=\"button\" class=\"btn btn-xs dropdown-toggle\" data-toggle=\"dropdown\">\n            <span class=\"glyphicon glyphicon-align-justify\"></span>\n          </button>\n          <ul class=\"dropdown-menu\" role=\"menu\">\n            <li><a href=\"#\">Tablet</a></li>\n            <li><a href=\"#\">Smartphone</a></li>\n          </ul>\n    </div>\n    `,\n    styles: [`\n      margin:0px;\n    `]\n})\nexport class layerMenuButtonComponent {\n  constructor(){\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/dashboard/esrimap/components/layerMenuButton.component.ts","\nimport { Component, ElementRef } from '@angular/core';\nimport { MapService } from '../services/map.service';\nimport LayerList = require('esri/dijit/LayerList');\ndeclare var $: any;\n\n@Component({\n  selector: 'esri-legend',\n  template: ` \n  <div></div>\n\n  <ul id=\"context-Menu\" class=\"dropdown-menu\" role=\"menu\" style=\"display:none;\">\n    <li><a href=\"#\" (click)=\"urlToDescription()\">Description</a></li>\n  </ul>\n\n  `,\n  styles:[`\n    .layerMenuButton{\n      margin: 0px;\n    }\n    .esriButton {\n      margin: 0px;\n    }\n\n  `]\n})\nexport class LegendComponent {\n\n  constructor(private elRef:ElementRef, private _mapService:MapService) {\n\n\n  }\n\n  legend: any;\n  map: any;\n  layerId: string;\n\n  init(map) {\n    let self = this;\n    //this.legend = this._mapService.createLegend({map, layerInfos}, this.elRef.nativeElement.firstChild);\n    self.map = map;\n    let mapLayers = self._mapService.getMapLayers();\n    let layers = [];\n    //console.log(layerInfos);\n    mapLayers.forEach((layer) => {\n\n      // var btnNode = document.createElement('button');\n      // btnNode.className=\"btn btn-xs\";\n      // btnNode.type = \"button\";\n      // btnNode.name = 'Click';\n      // btnNode.value = 'Click';\n      // btnNode.id = layer.id;\n      var btnDiv = document.createElement('div');\n      btnDiv.className=\"btn-group layerMenuButton\";\n      btnDiv.style.cssText = \"margin:0px;\";\n      btnDiv.innerHTML = `\n\n          <button id=\"` + layer.id + `\" type=\"button\" class=\"btn btn-xs dropdown-toggle\" data-toggle=\"dropdown\">\n            <span class=\"glyphicon glyphicon-align-justify\"></span>\n          </button>\n          <ul class=\"dropdown-menu\" role=\"menu\">\n            <li><a href = \"https://services.arcgis.com/jDGuO8tYggdCCnUJ/arcgis/rest/services/US_State_Boundaries/FeatureServer/0\" target=\"_blank\">Description</a></li>\n          </ul>\n\n    `;\n      // mapLayer.button = btnDiv; \n      // mapLayer.showSubLayers = true;\n      // mapLayer.layer = layer;\n       //layers.push(layer.layerInfos);\n    });\n\n    var myWidget = new LayerList({\n        map: map,\n        layers: [],\n        showLegend: true,\n        showSubLayers: true,\n        removeUnderscores: true\n    },self.elRef.nativeElement.firstChild);\n\n    myWidget.startup();\n\n    $(document).on('click', () => {\n      $(\"#context-Menu\").hide(100);\n    });\n    $(document).on('contextmenu', function (e) {\n        console.log(e);\n        \n        self.layerId = '';\n        $(\"#context-Menu\").hide(100);\n        if (e.target.matches('.esriListVisible *')){\n          e.preventDefault();\n          self.layerId = e.target.innerHTML;\n\n          let layer = self.map.getLayer(self.layerId);\n          if(layer){\n            $('#context-Menu').css({\n              'position': 'fixed',\n              'top':e.pageY,\n              'left': e.pageX, \n              'display': 'block'\n            });\n            $(\"#context-Menu\").show(100);\n          }\n        }\n    });\n  }\n  urlToDescription(e){\n    if(this.layerId !== ''){\n      console.log(\"Hello: \" + this.layerId);\n      let layer = this.map.getLayer(this.layerId);\n      if(layer){\n        window.open(layer.url, '_blank');\n      }\n    }\n  }\n\n  // destroy legend dijit\n  ngOnDestroy() {\n    if (this.legend) {\n      this.legend.destroy();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/dashboard/esrimap/components/legend.component.ts","import { Component, ViewChild } from '@angular/core';\nimport { MapComponent } from './map.component';\nimport { SearchComponent } from './search.component';\nimport { LegendComponent } from './legend.component';\nimport IdentifyTask = require('esri/tasks/IdentifyTask');\nimport Map = require('esri/map');\nimport InfoTemplate = require('esri/InfoTemplate');\nimport IdentifyParameters = require('esri/tasks/IdentifyParameters');\nimport arrayUtils = require('dojo/_base/array');\n\n@Component({\n    selector: 'main-map',\n    template:\n    `\n    <div class=\"row\">\n      <div class=\"col-sm-12 col-md-12 col-lg-12 map-col\">\n        <esri-map [options]=\"mapOptions\" (mapLoaded)=\"onMapLoad($event)\">\n          <esri-search [options]=\"searchOptions\"></esri-search>\n          <div id=\"HomeButton\"></div>\n        </esri-map>\n         <div class=\"panel panel-primary\">\n          <div class=\"panel-heading\">\n            <a class=\"panel-title\" data-toggle=\"collapse\" href=\"#collapseLayers\">Layers\n            </a>\n          </div>\n          <div id=\"collapseLayers\" class=\"panel-body\">\n\n            <div class=\"form-group\">\n              All Layers\n              <input type=\"radio\" (click)=\"turnAllLayersON()\" name=\"layerVisibility\" value=\"on\" checked=\"\"> ON\n              <input type=\"radio\" (click)=\"turnAllLayersOff()\" name=\"layerVisibility\" value=\"Off\"> OFF\n            </div>\n\n            <esri-legend id=\"esriLayerList\"></esri-legend> \n          </div>\n        </div>        \n      </div>\n    </div>\n    `,\n    styles:[`\n      #layerListPane{\n          width:25%;\n      }\n      .esriLayer{\n        background-color: #fff;\n      }\n      .esriLayerList .esriList{\n          border-top:none;\n      }\n      .esriLayerList .esriTitle {\n        background-color: #fff;\n        border-bottom:none;\n      }\n      .esriLayerList .esriList ul{\n        background-color: #fff;\n      }      \n\n    `]\n})\nexport class MainMapComponent {\n\n  // references to child components\n  @ViewChild(MapComponent) mapComponent:MapComponent;\n  @ViewChild(SearchComponent) searchComponent:SearchComponent;\n  @ViewChild(LegendComponent) legendComponent:LegendComponent;\n\n  title = 'Map Title';\n  map: Map;\n  identifyTask: IdentifyTask;\n  identifyParams: IdentifyParameters;\n\n  // map config\n  //itemId = '8e42e164d4174da09f61fe0d3f206641';\n  itemId = '98a4854bf226496ab6dc5214f5e2102e';\n  \n  public mapOptions = {\n    basemap: 'gray',\n    center: [-97, 38], // lon, lat\n    zoom: 5\n  };\n\n  // search config\n  public searchOptions = {\n    enableButtonMode: true, //this enables the search widget to display as a single button\n    enableLabel: false,\n    enableInfoWindow: true,\n    showInfoWindowOnSelect: true,\n  };\n\n  // once the map loads\n  onMapLoad(response) {\n\n    let self = this;\n    self.map = response;\n\n    self.map.on(\"click\", (event)=>{\n\n      let visibleLayers = [];\n      self.map.layerIds.forEach((layerId) => {\n        if( layerId == \"USStates Layer\"){\n          let layer = self.map.getLayer(layerId);\n          visibleLayers = layer['visibleLayers'];\n        }\n\n      });\n\n      self.identifyTask = new IdentifyTask(\"https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Demographics/ESRI_Census_USA/MapServer\");\n      self.identifyParams = new IdentifyParameters();\n      self.identifyParams.tolerance = 3;\n      self.identifyParams.returnGeometry = true;\n      self.identifyParams.layerIds = visibleLayers;\n      self.identifyParams.layerOption = IdentifyParameters.LAYER_OPTION_ALL;\n      self.identifyParams.width = self.map.width;\n      self.identifyParams.height = self.map.height;    \n      self.identifyParams.geometry = event.mapPoint;\n      self.identifyParams.mapExtent = self.map.extent;\n\n      let deferred = self.identifyTask\n        .execute(self.identifyParams)\n        .addCallback(function (response) {\n          // response is an array of identify result objects\n          // Let's return an array of features. NAME\n          return arrayUtils.map(response, function (result) {\n            let feature = result.feature;\n            let layerName = result.layerName;\n\n            feature.attributes.layerName = layerName;\n            if (layerName === 'states') {\n              let statesTemplate = new InfoTemplate(\"\",\n                \"STATE NAME: ${STATE_NAME}\");\n              feature.setInfoTemplate(statesTemplate);\n            } else if (layerName === 'Coarse Counties') {\n              let coarseCountiesTemplate = new InfoTemplate(\"\",\n                \"Coarse County NAME: ${NAME}\");\n              feature.setInfoTemplate(coarseCountiesTemplate);\n            } else if (layerName === 'Detailed Counties') {\n              let detailedCountiesTemplate = new InfoTemplate(\"\",\n                \"Detailed County NAME: ${NAME}\");\n              feature.setInfoTemplate(detailedCountiesTemplate);\n            }\n            return feature;\n          });\n        });\n\n      // InfoWindow expects an array of features from each deferred\n      // object that you pass. If the response from the task execution\n      // above is not an array of features, then you need to add a callback\n      // like the one above to post-process the response and return an\n      // array of features.\n      //self.map.infoWindow.setFeatures([deferred]);\n      //self.map.infoWindow.show(event.mapPoint);\n\n    });\n    \n    // initialize the leged dijit with map and layer infos\n    self.legendComponent.init(self.map);\n\n    // bind the search dijit to the map\n    self.searchComponent.init(self.map);\n\n    // bind the map title\n    //this.title = response.itemInfo.item.title;\n\n  }\n\n  turnAllLayersOff(){\n    let layerIds = this.map.layerIds;\n\n    let layer;\n    for (let i=0; i < layerIds.length; i++) {\n      if(layerIds[i] !== 'Basemap'){\n        layer = this.map.getLayer(layerIds[i]);\n        layer.hide();\n      }\n    }\n\n    layerIds = this.map.graphicsLayerIds;\n\n    for (let i=0; i < layerIds.length; i++) {\n      layer = this.map.getLayer(layerIds[i]);\n      layer.hide();\n    }\n  }\n\n  turnAllLayersON(){\n    let layerIds = this.map.layerIds;\n\n    let layer;\n    for (let i=0; i < layerIds.length; i++) {\n      layer = this.map.getLayer(layerIds[i]);\n      layer.show();\n    }\n\n    layerIds = this.map.graphicsLayerIds;\n\n    for (let i=0; i < layerIds.length; i++) {\n      layer = this.map.getLayer(layerIds[i]);\n      layer.show();\n    }\n  }\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/dashboard/esrimap/components/mainmap.component.ts","import { Component, ElementRef, Output, EventEmitter } from '@angular/core';\nimport { MapService } from '../services/map.service';\n\nimport SimpleFillSymbol = require('esri/symbols/SimpleFillSymbol');\nimport SimpleLineSymbol = require('esri/symbols/SimpleLineSymbol');\nimport Color = require('esri/Color');\nimport Popup = require('esri/dijit/Popup');\n\nimport esriConfig = require('esri/config');\nimport GeometryService = require('esri/tasks/GeometryService');\n\n\ndeclare var jQuery: any;\n\n@Component({\n  selector: 'esri-map',\n  template: '<div><ng-content></ng-content></div>',\n  inputs: ['options']\n})\nexport class MapComponent {\n\n  @Output() mapLoaded = new EventEmitter();\n\n  map: any;\n  options: Object;\n  $el: any;\n\n  constructor(private elRef:ElementRef, private _mapService:MapService) {\n    this.$el = jQuery(elRef.nativeElement);\n  }\n\n  ngOnInit() {\n    // create the map\n    esriConfig.defaults.geometryService = new GeometryService(\"https://utility.arcgisonline.com/ArcGIS/rest/services/Geometry/GeometryServer\");\n\n    var popup = new Popup({\n      fillSymbol: new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID,\n        new SimpleLineSymbol(SimpleLineSymbol.STYLE_SOLID,\n          new Color([255, 0, 0]), 2), new Color([255, 255, 0, 0.25]))\n    },  document.createElement('div'));\n        \n    this.options = {\n      infoWindow: popup,\n      center: [-97, 38], // lon, lat\n      navigationMode: 'classic',\n      isZoomSlider : true,\n      isPan : true,\n      isPanArrows : true,\n      zoom: 3\n    };\n\n    this.map = this._mapService.createMap(this.elRef.nativeElement.firstChild, this.options, this.$el);\n\n    this.mapLoaded.next(this.map);\n\n  }\n\n\n  // destroy map\n  ngOnDestroy() {\n    if (this.map) {\n      this.map.destroy();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/dashboard/esrimap/components/map.component.ts","import { Component, ElementRef } from '@angular/core';\nimport { MapService } from '../services/map.service';\nimport FeatureLayer = require('esri/layers/FeatureLayer');\nimport InfoTemplate = require('esri/InfoTemplate');\ndeclare var jQuery: any;\n\n@Component({\n  selector: 'esri-search',\n  template: '<div></div>',\n  inputs: ['options']\n})\nexport class SearchComponent {\n  $el: any;\n\n  constructor(private elRef:ElementRef, private _mapService:MapService) {\n    this.$el = jQuery(elRef.nativeElement);\n  }\n\n  search: any;\n  options: Object;\n\n  // create the search dijit\n  init(map) {\n   this.search = this._mapService.createSearch(this.options, this.elRef.nativeElement.firstChild);\n\n    var sources = this.search.get(\"sources\");\n    //var sources = [];\n    sources.push({\n            featureLayer: new FeatureLayer(\"https://services.arcgis.com/jDGuO8tYggdCCnUJ/arcgis/rest/services/US_State_Boundaries/FeatureServer/0\"),\n            searchFields: [\"STATE_NAME\"],\n            displayField: \"STATE_NAME\",\n            exactMatch: false,\n            outFields: [\"*\"],\n            name: \"US State Boundaries\",\n            placeholder: \"e.g Utah\",\n            maxResults: 6,\n            maxSuggestions: 6,\n\n            //Create an InfoTemplate and include three fields\n            infoTemplate: new InfoTemplate(\"US State Boundaries\", \"STATE NAME: ${STATE_NAME}</br>SUB REGION: ${SUB_REGION}\"),\n            enableSuggestions: true,\n            minCharacters: 0\n         });\n\n        //  sources.push({\n        //     featureLayer: new FeatureLayer(\"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/US_Senators/FeatureServer/0\"),\n        //     searchFields: [\"Name\"],\n        //     displayField: \"Name\",\n        //     exactMatch: false,\n        //     name: \"Senator\",\n        //     outFields: [\"*\"],\n        //     placeholder: \"Senator name\",\n        //     maxResults: 6,\n        //     maxSuggestions: 6,\n\n        //     //Create an InfoTemplate\n\n        //     infoTemplate: new InfoTemplate(\"Senator information\", \"Name: ${Name}</br>State: ${State}</br>Party Affiliation: ${Party}</br>Phone No: ${Phone_Number}<br><a href=${Web_Page} target=_blank ;'>Website</a>\"),\n            \n        //     enableSuggestions: true,\n        //     minCharacters: 0\n        //  });\n\n         this.search.set(\"sources\", sources);\n         //this.search.startup();\n    this.search.set('map', map);\n    this.search.set('enableButtonMode', true);\n  }\n\n  ngOnInit() {\n\n  }\n\n  // start up once the DOM is ready\n  ngAfterViewInit() {\n    this.search.startup();\n  }\n\n  // bind search dijit to map\n  setMap(map) {\n    this.search.set('map', map);\n  }\n\n  // destroy search dijit\n  ngOnDestroy() {\n    if (this.search) {\n      this.search.destroy();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/dashboard/esrimap/components/search.component.ts","import { Injectable } from '@angular/core';\nimport arcgisUtils = require('esri/arcgis/utils');\nimport esriBasemaps = require('esri/basemaps');\nimport Legend = require('esri/dijit/Legend');\nimport Search = require('esri/dijit/Search');\nimport {LegendOptions} from \"esri\";\n\nimport FeatureLayer = require('esri/layers/FeatureLayer');\nimport layer = require('esri/layers/layer');\nimport InfoTemplate = require('esri/InfoTemplate');\nimport ArcGISTiledMapServiceLayer = require('esri/layers/ArcGISTiledMapServiceLayer');\nimport ArcGISDynamicMapServiceLayer = require('esri/layers/ArcGISDynamicMapServiceLayer');\n\nimport GraphicsLayer = require('esri/layers/GraphicsLayer');\nimport Map = require('esri/map');\nimport HomeButton = require('esri/dijit/HomeButton');\nimport Scalebar = require('esri/dijit/Scalebar');\ndeclare var jQuery: any;\n\n@Injectable()\nexport class MapService {\n  _basemaps: any[];\n\n  getMapLayers(){\n    let layers : layer[] = [];\n    \n    let basemapLayer = new ArcGISTiledMapServiceLayer(\"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer\", {\n      id: \"Basemap\"\n    });\n\n    let statesLayer= new ArcGISDynamicMapServiceLayer(\"https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Demographics/ESRI_Census_USA/MapServer\", {\n      id: \"USStates Layer\"\n    });\n\n    statesLayer.setVisibleLayers([5]);\n\n    //define the info template that is used to display the popup content.\n    var template = new InfoTemplate();\n    template.setTitle(\"<b>${NAME}</b>\");\n    template.setContent(\"<b>${NAME}</b>\");\n\n    \n    let fl = new FeatureLayer(\n        'https://services.arcgis.com/BG6nSlhZSAWtExvp/arcgis/rest/services/World_Volcanoes/FeatureServer/0', {\n          id: \"fl1\",\n          mode: FeatureLayer.MODE_ONDEMAND,\n          outFields: [\"*\"],\n          infoTemplate: template\n        }\n    );\n\n    layers.push(basemapLayer);\n    layers.push(statesLayer);\n    layers.push(fl);\n    return layers;\n\n  };\n\n  // load a web map and return respons\n  createMap(domNodeOrId: any, options: Object, jQueryOfHomeButton: any){\n    let map = new Map(domNodeOrId, options);\n\n    map.addLayers(this.getMapLayers());\n\n    map.infoWindow.resize(200, 75);\n\n    var home = new HomeButton({\n      map: map\n    }, jQuery.find(\"HomeButton\"));\n    home.startup();\n\n    var scalebar = new Scalebar({\n      map: map,\n      // \"dual\" displays both miles and kilometers\n      // \"english\" is the default, which displays miles\n      // use \"metric\" for kilometers\n      scalebarUnit: \"dual\"\n    });\n\n\n    return map;\n\n  };\n\n  // create a search dijit at the dom node\n  createSearch(options: Object, domNodeOrId: any) {\n    return new Search(options, domNodeOrId);\n  };\n\n  // create a legend dijit at the dom node\n  createLegend(options: LegendOptions, domNodeOrId: any) {\n    return new Legend(options, domNodeOrId);\n  };\n\n \n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/dashboard/esrimap/services/map.service.ts","import {Directive, ElementRef, OnInit} from '@angular/core';\ndeclare var jQuery: any;\n\n@Directive ({\n  selector: '[widget]'\n})\n\nexport class Widget implements OnInit {\n  $el: any;\n\n  constructor(el: ElementRef) {\n    this.$el = jQuery(el.nativeElement);\n    jQuery.fn.widgster.Constructor.DEFAULTS.bodySelector = '.widget-body';\n\n    /*\n     When widget is closed remove its parent if it is .col-*\n     */\n    jQuery(document).on('close.widgster', (e) => {\n      let $colWrap = jQuery(e.target)\n        .closest('.content > .row > [class*=\"col-\"]:not(.widget-container)');\n\n      // remove colWrap only if there are no more widgets inside\n      if (!$colWrap.find('.widget').not(e.target).length) {\n        $colWrap.remove();\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    this.$el.widgster();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[//n//r]//s*//.|//.)import//((.+)//)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/layout/widget/widget.directive.ts"],"sourceRoot":""}